<!DOCTYPE html>
<html>
  <head>
    <title>Insert Student</title>
    <link rel="stylesheet" href="style.css" />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <script src="js/bootstrap.min.js"></script>
    <script src="./server/node_modules/axios/dist/axios.min.js"></script>
    <script>
      const insert = (
        ssn,
        age,
        s_name,
        email,
        password,
        degree,
        GPA,
        major,
        minor,
        sid,
        f_name,
        t_name
      ) => {
        axios
          .post(
            "http://localhost:5000/admin/insert",
            {
              ssn: ssn,
              age: age,
              s_name: s_name,
              email: email,
              password: password,
              degree: degree,
              GPA: GPA,
              major: major,
              minor: minor,
              sid: sid,
              f_name: f_name,
              table: t_name,
            },
            {
              withCredentials: true,
            }
          )
          .then((response) => {
            console.log(response.data);
            if (response.data.flag == 2) {
              //return window.location.href='http://localhost:8080/index.html'
              alert("Please login first");
            } else if (response.data.flag == 0) {
              alert("Success");
            } else if (response.data.flag != 0) {
              alert("Error");
            }
          })
          .catch((error) => {
            console.log(error);
          });
      };
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="index.html">Group-M </a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="index.html">Home </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="login.html">Admin Login</a>
          </li>
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="navbarDropdown"
              role="button"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              Insert
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="insertPerson.html"> Person</a>
              <a class="dropdown-item" href="insertInstructor.html">
                Instructor</a
              >
              <a class="dropdown-item" href="insertCourse.html"> Course</a>
              <a class="dropdown-item" href="insertDepartment.html">
                Department</a
              >
              <a class="dropdown-item" href="insertProject.html"> Project</a>
              <a class="dropdown-item" href="insertStudent.html"> Student</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="deletePage.html">Delete</a>
          </li>

          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="navbarDropdown"
              role="button"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              Select
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="selectPage.html"
                >Select With Filter</a
              >
              <a class="dropdown-item" href="selectAllPage.html"
                >Select All With Table</a
              >
            </div>
          </li>
        </ul>
      </div>
    </nav>
    <div class="operationsPage">
      <form class="operations-form-student">
        <p>Insert Student</p>
        <input
          type="hidden"
          class="form-control"
          name="table"
          value="Student"
        />
        <p>ssn</p>
        <input type="text" class="form-control" name="ssn" id="ssn" />
        <p>age</p>
        <input type="text" class="form-control" name="age" id="age" />
        <p>name</p>
        <input type="text" class="form-control" name="name" id="s_name" />
        <p>email</p>
        <input type="text" class="form-control" name="email" id="email" />
        <p>password</p>
        <input type="text" class="form-control" name="password" id="password" />
        <p>degree</p>
        <input type="text" class="form-control" name="degree" id="degree" />
        <p>gpa</p>
        <input type="text" class="form-control" name="GPA" id="GPA" />
        <p>major</p>
        <input type="text" class="form-control" name="major" id="major" />
        <p>minor</p>
        <input type="text" class="form-control" name="minor" id="minor" />
        <p>student ID</p>
        <input type="text" class="form-control" name="sid" id="sid" />
        <p>faculty name</p>
        <input type="text" class="form-control" name="f_name" id="f_name" />

        <input
          type="button"
          value="Submit"
          class="button"
          onclick="insert(ssn.value, age.value, s_name.value, email.value, password.value, degree.value, GPA.value, major.value, minor.value, sid.value, f_name.value, t_name.value)"
        />
      </form>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
